{"ast":null,"code":"var _jsxFileName = \"/home/gnop/Videos/django-react-boilerplate/src/containers/ProductDetail.js\";\nimport React from 'react';\nimport { Button, Container, Dimmer, Icon, Image, Item, Headers, Label, Loader, Message, Segment, Card, Grid } from 'semantic-ui-react';\nimport axios from 'axios';\nimport { addToCartURL, productDetailURL } from '../constants';\nimport { authAxios } from '../utils';\nimport { fetchCart } from '../store/actions/cart';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nclass ProductDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null,\n      data: []\n    };\n\n    this.handleFetchItem = () => {\n      const {\n        match: {\n          params\n        }\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n      axios.get(productDetailURL(params.productID)).then(res => {\n        this.setState({\n          data: res.data,\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n\n    this.handleAddToCart = slug => {\n      this.setState({\n        loading: true\n      });\n      authAxios.post(addToCartURL, {\n        slug\n      }).then(res => {\n        this.props.fetchCart();\n        this.setState({\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.handleFetchItem();\n  }\n\n  render() {\n    const {\n      data,\n      error,\n      loading\n    } = this.state;\n    const item = data;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, error && /*#__PURE__*/React.createElement(Message, {\n      error: true,\n      header: \"There was some errors with your submission\",\n      content: JSON.stringify(error),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }), loading && /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Dimmer, {\n      active: true,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      inverted: true,\n      content: \"Loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Image, {\n      src: \"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      columns: 2,\n      divided: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      fluid: true,\n      image: item.image,\n      header: item.title,\n      meta: /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 37\n        }\n      }, item.category, item.discount_price && /*#__PURE__*/React.createElement(Label, {\n        color: item.label === \"primary\" ? \"blue\" : item.label === \"secondary\" ? \"green\" : \"olive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 45\n        }\n      }, item.label)),\n      description: item.description,\n      extra: /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        fluid: true,\n        color: \"yellow\",\n        icon: true,\n        labelPosition: \"right\",\n        onClick: () => this.handleAddToCart(item.slug),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 41\n        }\n      }, \"Add to Cart\", /*#__PURE__*/React.createElement(Icon, {\n        name: \"cart plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 37\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Headers, {\n      as: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"Try different variations\"), data.variations && data.variations.map(v => {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Headers, {\n        as: \"h3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 45\n        }\n      }, v.name), /*#__PURE__*/React.createElement(Item.Group, {\n        divided: true,\n        key: v.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 45\n        }\n      }, v.item_variations.map(iv => {\n        return /*#__PURE__*/React.createElement(Item, {\n          key: iv.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(Item.Image, {\n          size: \"tiny\",\n          src: `http://127.0.0.1:8000${iv.attachment}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 61\n          }\n        }), /*#__PURE__*/React.createElement(Item.Content, {\n          verticalAlign: \"middle\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 61\n          }\n        }, iv.value));\n      })));\n    })))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(ProductDetail));","map":{"version":3,"sources":["/home/gnop/Videos/django-react-boilerplate/src/containers/ProductDetail.js"],"names":["React","Button","Container","Dimmer","Icon","Image","Item","Headers","Label","Loader","Message","Segment","Card","Grid","axios","addToCartURL","productDetailURL","authAxios","fetchCart","connect","withRouter","ProductDetail","Component","state","loading","error","data","handleFetchItem","match","params","props","setState","get","productID","then","res","catch","err","handleAddToCart","slug","post","componentDidMount","render","item","JSON","stringify","image","title","category","discount_price","label","description","variations","map","v","name","id","item_variations","iv","attachment","value","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Button, Container, Dimmer, Icon, Image, Item, Headers, Label, Loader, Message, Segment, Card, Grid } from 'semantic-ui-react'\nimport axios from 'axios';\n\nimport { addToCartURL, productDetailURL } from '../constants';\nimport { authAxios } from '../utils';\nimport { fetchCart } from '../store/actions/cart';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\n\nclass ProductDetail extends React.Component {\n\n    state = {\n        loading: false,\n        error: null,\n        data: []\n    };\n\n    componentDidMount() {\n        this.handleFetchItem();\n    }\n\n    handleFetchItem = () => {\n        const {\n            match: { params }\n        } = this.props;\n        this.setState({ loading: true });\n        axios\n            .get(productDetailURL(params.productID))\n            .then(res => {\n                this.setState({ data: res.data, loading: false });\n            })\n            .catch(err => {\n                this.setState({ error: err, loading: false });\n            });\n    }\n\n    handleAddToCart = slug => {\n        this.setState({ loading: true });\n        authAxios\n            .post(addToCartURL, { slug })\n            .then(res => {\n                this.props.fetchCart();\n                this.setState({ loading: false });\n            })\n            .catch(err => {\n                this.setState({ error: err, loading: false });\n            });\n\n    }\n\n    render() {\n        const { data, error, loading } = this.state;\n        const item = data;\n        return (\n            <Container>\n\n                {error && (\n                    <Message\n                        error\n                        header='There was some errors with your submission'\n                        content={JSON.stringify(error)}\n                    />\n                )}\n                {\n                    loading && (\n                        <Segment>\n                            <Dimmer active inverted>\n                                <Loader inverted content='Loading' />\n                            </Dimmer>\n\n                            <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                        </Segment>\n                    )\n                }\n                <Grid columns={2} divided>\n                    <Grid.Row>\n                        <Grid.Column>\n                            <Card\n                                fluid\n                                image={item.image}\n                                header={item.title}\n                                meta={\n                                    <React.Fragment>\n                                        {item.category}\n                                        {item.discount_price && (\n                                            <Label color={\n                                                item.label === \"primary\" ? \"blue\" :\n                                                    item.label === \"secondary\" ? \"green\" :\n                                                        \"olive\"\n                                            }>\n                                                {item.label}\n                                            </Label>\n                                        )}\n                                    </React.Fragment>\n                                }\n                                description={item.description}\n                                extra={\n                                    <React.Fragment>\n                                        <Button fluid color=\"yellow\" icon labelPosition=\"right\" onClick={() => this.handleAddToCart(item.slug)}>\n                                            Add to Cart\n                                    <Icon name='cart plus' />\n                                        </Button>\n                                    </React.Fragment>\n                                }\n                            />\n                        </Grid.Column>\n\n                        <Grid.Column>\n                            <Headers as=\"h2\">Try different variations</Headers>\n\n                            {data.variations &&\n                                data.variations.map(v => {\n                                    return (\n                                        <React.Fragment>\n\n                                            <Headers as=\"h3\">{v.name}</Headers>\n\n                                            <Item.Group divided key={v.id}>\n                                                {v.item_variations.map(iv => {\n                                                    return (\n                                                        <Item key={iv.id}>\n                                                            <Item.Image\n                                                                size=\"tiny\"\n                                                                src={`http://127.0.0.1:8000${iv.attachment}`}\n                                                            />\n                                                            <Item.Content verticalAlign=\"middle\">\n                                                                {iv.value}\n                                                            </Item.Content>\n                                                        </Item>\n                                                    );\n                                                })}\n                                            </Item.Group>\n\n                                        </React.Fragment>\n\n                                    );\n                                })\n                            }\n                        </Grid.Column>\n                    </Grid.Row>\n                </Grid>\n\n\n            </Container>\n\n        );\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchCart: () => dispatch(fetchCart())\n    };\n};\n\n\nexport default withRouter(connect(null, mapDispatchToProps)(ProductDetail));\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}