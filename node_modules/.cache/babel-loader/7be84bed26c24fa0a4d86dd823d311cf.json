{"ast":null,"code":"var _jsxFileName = \"/home/gnop/Videos/django-react-boilerplate/src/containers/ProductList.js\";\nimport React from 'react';\nimport { Button, Container, Dimmer, Icon, Image, Item, Label, Loader, Message, Segment } from 'semantic-ui-react';\nimport axios from 'axios';\nimport { addToCartURL, productListURL } from '../constants';\nimport { authAxios } from '../utils';\nimport { fetchCart } from '../store/actions/cart';\nimport { connect } from 'react-redux';\n\nclass ProductList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null,\n      data: []\n    };\n\n    this.handleAddToCart = slug => {\n      this.setState({\n        loading: true\n      });\n      authAxios.post(addToCartURL, {\n        slug\n      }).then(res => {\n        this.props.fetchCart();\n        this.setState({\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    axios.get(productListURL).then(res => {\n      console.log(res.data);\n      this.setState({\n        data: res.data,\n        loading: false\n      });\n    }).catch(err => {\n      this.setState({\n        error: err,\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      data,\n      error,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, error && /*#__PURE__*/React.createElement(Message, {\n      error: true,\n      header: \"There was some errors with your submission\",\n      content: JSON.stringify(error),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }), loading && /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Dimmer, {\n      active: true,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      inverted: true,\n      content: \"Loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Image, {\n      src: \"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Item.Group, {\n      divided: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, data.map(item => {\n      return /*#__PURE__*/React.createElement(Item, {\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Item.Image, {\n        src: item.image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Item.Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Item.Header, {\n        as: \"a\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 37\n        }\n      }, item.title), /*#__PURE__*/React.createElement(Item.Meta, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cinema\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 41\n        }\n      }, item.category)), /*#__PURE__*/React.createElement(Item.Description, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 37\n        }\n      }, item.description), /*#__PURE__*/React.createElement(Item.Extra, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        primary: true,\n        floated: \"right\",\n        icon: true,\n        labelPosition: \"right\",\n        onClick: () => this.handleAddToCart(item.slug),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 41\n        }\n      }, \"Add to Cart\", /*#__PURE__*/React.createElement(Icon, {\n        name: \"cart plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 45\n        }\n      })), item.discount_price && /*#__PURE__*/React.createElement(Label, {\n        color: item.label === \"primary\" ? \"blue\" : item.label === \"secondary\" ? \"green\" : \"olive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 45\n        }\n      }, item.label))));\n    })));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ProductList);","map":{"version":3,"sources":["/home/gnop/Videos/django-react-boilerplate/src/containers/ProductList.js"],"names":["React","Button","Container","Dimmer","Icon","Image","Item","Label","Loader","Message","Segment","axios","addToCartURL","productListURL","authAxios","fetchCart","connect","ProductList","Component","state","loading","error","data","handleAddToCart","slug","setState","post","then","res","props","catch","err","componentDidMount","get","console","log","render","JSON","stringify","map","item","id","image","title","category","description","discount_price","label","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Button, Container, Dimmer, Icon, Image, Item, Label, Loader, Message, Segment } from 'semantic-ui-react'\nimport axios from 'axios';\n\nimport { addToCartURL, productListURL } from '../constants';\nimport { authAxios } from '../utils';\nimport { fetchCart } from '../store/actions/cart';\nimport { connect } from 'react-redux';\n\n\nclass ProductList extends React.Component {\n\n    state = {\n        loading: false,\n        error: null,\n        data: []\n    };\n\n    componentDidMount() {\n        this.setState({ loading: true });\n        axios\n            .get(productListURL)\n            .then(res => {\n                console.log(res.data);\n                this.setState({ data: res.data, loading: false });\n            })\n            .catch(err => {\n                this.setState({ error: err, loading: false });\n            });\n    }\n\n    handleAddToCart = slug => {\n        this.setState({ loading: true });\n        authAxios\n            .post(addToCartURL, { slug })\n            .then(res => {\n                this.props.fetchCart();\n                this.setState({ loading: false });\n            })\n            .catch(err => {\n                this.setState({ error: err, loading: false });\n            });\n\n    }\n\n    render() {\n        const { data, error, loading } = this.state;\n        return (\n            <Container>\n\n                {error && (\n                    <Message\n                        error\n                        header='There was some errors with your submission'\n                        content={JSON.stringify(error)}\n                    />\n                )}\n                {\n                    loading && (\n                        <Segment>\n                            <Dimmer active inverted>\n                                <Loader inverted content='Loading' />\n                            </Dimmer>\n\n                            <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                        </Segment>\n                    )\n                }\n\n                <Item.Group divided>\n\n                    {data.map(item => {\n                        return (\n                            <Item key={item.id}>\n                                <Item.Image src={item.image} />\n\n                                <Item.Content>\n                                    <Item.Header as='a'>{item.title}</Item.Header>\n                                    <Item.Meta>\n                                        <span className='cinema'>{item.category}</span>\n                                    </Item.Meta>\n                                    <Item.Description>{item.description}</Item.Description>\n                                    <Item.Extra>\n                                        <Button primary floated='right' icon labelPosition=\"right\" onClick={() => this.handleAddToCart(item.slug)}>\n                                            Add to Cart\n                                            <Icon name='cart plus' />\n                                        </Button>\n                                        {item.discount_price && (\n                                            <Label color={\n                                                item.label === \"primary\" ? \"blue\" :\n                                                    item.label === \"secondary\" ? \"green\" :\n                                                        \"olive\"\n                                            }>\n                                                {item.label}\n                                            </Label>\n                                        )}\n                                    </Item.Extra>\n                                </Item.Content>\n                            </Item>\n                        )\n                    })}\n\n                </Item.Group>\n            </Container>\n\n        );\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchCart: () => dispatch(fetchCart())\n    };\n};\n\n\nexport default connect(null, mapDispatchToProps)(ProductList)\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}