{"ast":null,"code":"var _jsxFileName = \"/home/gnop/Videos/django-react-boilerplate/src/containers/Checkout.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe, Elements, StripeProvider } from 'react-stripe-elements';\nimport { Button, Container, Message } from 'semantic-ui-react';\nimport { authAxios } from '../utils';\nimport { checkoutURL } from '../constants';\n\nclass CheckoutForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null,\n      success: false\n    };\n  }\n\n  async submit(ev) {\n    this.setState({\n      loading: true\n    });\n    let {\n      token\n    } = await this.props.strip.createToken();\n    authAxios.post(checkoutURL, {\n      stripeToken: token.id\n    }).then(res => {\n      this.setState({\n        loading: true,\n        success: true\n      });\n    }).catch(err => {\n      this.setState({\n        loading: false,\n        error: err\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      loading,\n      success\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, error && /*#__PURE__*/React.createElement(Message, {\n      negative: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, \"Your payment was unsuccessful\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }, JSON.stringify(error))), success && /*#__PURE__*/React.createElement(Message, {\n      positive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, \"Your payment was successful\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, \"Go to your \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 40\n      }\n    }, \"profile\"), \" to see the order delivery status.\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, \" Would you like to complete your puchase?\"), /*#__PURE__*/React.createElement(CardElement, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.submit,\n      primary: true,\n      style: {\n        marginTop: \"10px\"\n      },\n      loading: loading,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Submit\"));\n  }\n\n}\n\nconst InjectedForm = injectStripe(CheckoutForm);\n\nconst WrappedForm = () => /*#__PURE__*/React.createElement(Container, {\n  text: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(StripeProvider, {\n  apiKey: \"pk_test_12345\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 17\n  }\n}, \"React Stripe Elements\"), /*#__PURE__*/React.createElement(Elements, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(InjectedForm, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 21\n  }\n})))));\n\nexport default WrappedForm;","map":{"version":3,"sources":["/home/gnop/Videos/django-react-boilerplate/src/containers/Checkout.js"],"names":["React","Component","CardElement","injectStripe","Elements","StripeProvider","Button","Container","Message","authAxios","checkoutURL","CheckoutForm","state","loading","error","success","submit","ev","setState","token","props","strip","createToken","post","stripeToken","id","then","res","catch","err","render","JSON","stringify","marginTop","InjectedForm","WrappedForm"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACIC,WADJ,EAEIC,YAFJ,EAGIC,QAHJ,EAIIC,cAJJ,QAKO,uBALP;AAMA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,OAA5B,QAA2C,mBAA3C;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,WAAT,QAA4B,cAA5B;;AAEA,MAAMC,YAAN,SAA2BV,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEjCW,KAFiC,GAEzB;AACJC,MAAAA,OAAO,EAAE,KADL;AAEJC,MAAAA,KAAK,EAAE,IAFH;AAGJC,MAAAA,OAAO,EAAE;AAHL,KAFyB;AAAA;;AAQjC,QAAMC,MAAN,CAAaC,EAAb,EAAiB;AACb,SAAKC,QAAL,CAAc;AAAEL,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,QAAI;AAAEM,MAAAA;AAAF,QAAY,MAAM,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,WAAjB,EAAtB;AACAb,IAAAA,SAAS,CAACc,IAAV,CAAeb,WAAf,EAA4B;AAAEc,MAAAA,WAAW,EAAEL,KAAK,CAACM;AAArB,KAA5B,EACKC,IADL,CACUC,GAAG,IAAI;AACT,WAAKT,QAAL,CAAc;AAAEL,QAAAA,OAAO,EAAE,IAAX;AAAiBE,QAAAA,OAAO,EAAE;AAA1B,OAAd;AACH,KAHL,EAIKa,KAJL,CAIWC,GAAG,IAAI;AACV,WAAKX,QAAL,CAAc;AAAEL,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,KAAK,EAAEe;AAAzB,OAAd;AACH,KANL;AAOH;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEhB,MAAAA,KAAF;AAASD,MAAAA,OAAT;AAAkBE,MAAAA;AAAlB,QAA8B,KAAKH,KAAzC;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKE,KAAK,iBACF,oBAAC,OAAD;AAAS,MAAA,QAAQ,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIiB,IAAI,CAACC,SAAL,CAAelB,KAAf,CAAJ,CAFJ,CAFR,EAOKC,OAAO,iBACJ,oBAAC,OAAD;AAAS,MAAA,QAAQ,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADf,uCAFJ,CARR,eAeI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAfJ,eAgBI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,eAiBI,oBAAC,MAAD;AACI,MAAA,OAAO,EAAE,KAAKC,MADlB;AAEI,MAAA,OAAO,MAFX;AAGI,MAAA,KAAK,EAAE;AAAEiB,QAAAA,SAAS,EAAE;AAAb,OAHX;AAII,MAAA,OAAO,EAAEpB,OAJb;AAKI,MAAA,QAAQ,EAAEA,OALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBJ,CADJ;AA6BH;;AAnDgC;;AAuDrC,MAAMqB,YAAY,GAAG/B,YAAY,CAACQ,YAAD,CAAjC;;AAEA,MAAMwB,WAAW,GAAG,mBAChB,oBAAC,SAAD;AAAW,EAAA,IAAI,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACI,oBAAC,cAAD;AAAgB,EAAA,MAAM,EAAC,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAEI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ,CAFJ,CADJ,CADJ,CADJ;;AAgBA,eAAeA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport {\n    CardElement,\n    injectStripe,\n    Elements,\n    StripeProvider\n} from 'react-stripe-elements';\nimport { Button, Container, Message } from 'semantic-ui-react';\nimport { authAxios } from '../utils';\nimport { checkoutURL } from '../constants';\n\nclass CheckoutForm extends Component {\n\n    state = {\n        loading: false,\n        error: null,\n        success: false\n    }\n\n    async submit(ev) {\n        this.setState({ loading: true });\n        let { token } = await this.props.strip.createToken();\n        authAxios.post(checkoutURL, { stripeToken: token.id })\n            .then(res => {\n                this.setState({ loading: true, success: true });\n            })\n            .catch(err => {\n                this.setState({ loading: false, error: err });\n            })\n    }\n\n    render() {\n        const { error, loading, success } = this.state;\n        return (\n            <div>\n                {error && (\n                    <Message negative>\n                        <Message.Header>Your payment was unsuccessful</Message.Header>\n                        <p>{JSON.stringify(error)}</p>\n                    </Message>\n                )}\n                {success && (\n                    <Message positive>\n                        <Message.Header>Your payment was successful</Message.Header>\n                        <p>\n                            Go to your <b>profile</b> to see the order delivery status.\n                        </p>\n                    </Message>\n                )}\n                <p> Would you like to complete your puchase?</p>\n                <CardElement />\n                <Button\n                    onClick={this.submit}\n                    primary\n                    style={{ marginTop: \"10px\" }}\n                    loading={loading}\n                    disabled={loading}\n                >\n                    Submit\n                </Button>\n            </div>\n        );\n    }\n}\n\n\nconst InjectedForm = injectStripe(CheckoutForm);\n\nconst WrappedForm = () => (\n    <Container text>\n        <StripeProvider apiKey=\"pk_test_12345\">\n            <div>\n                <h1>React Stripe Elements</h1>\n                <Elements>\n                    <InjectedForm />\n                </Elements>\n\n            </div>\n\n        </StripeProvider>\n    </Container>\n\n);\n\nexport default WrappedForm;"]},"metadata":{},"sourceType":"module"}