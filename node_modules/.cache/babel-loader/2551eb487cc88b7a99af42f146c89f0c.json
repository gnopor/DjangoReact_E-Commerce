{"ast":null,"code":"var _jsxFileName = \"/home/gnop/Videos/django-react-boilerplate/src/containers/Checkout.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe, Elements, StripeProvider } from 'react-stripe-elements';\nimport { Button, Container, Message, Item, Divider, Header } from 'semantic-ui-react';\nimport { authAxios } from '../utils';\nimport { checkoutURL } from '../constants';\n\nclass OrderPreview extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Item.Group, {\n      relaxed: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Item.Image, {\n      size: \"tiny\",\n      src: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Item.Content, {\n      verticalAlign: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Item.Header, {\n      as: \"a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Item.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Item.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Item.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }\n    }, \"Order Total: \"))));\n  }\n\n}\n\nclass CheckoutForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null,\n      success: false\n    };\n\n    this.submit = ev => {\n      ev.preventDefault();\n      this.setState({\n        loading: true\n      });\n\n      if (this.props.stripe) {\n        this.props.stripe.createToken().then(result => {\n          if (result.error) {\n            this.setState({\n              error: result.error.message,\n              loading: false\n            });\n          } else {\n            authAxios.post(checkoutURL, {\n              stripeToken: result.token.id\n            }).then(res => {\n              this.setState({\n                loading: true,\n                success: true\n              });\n            }).catch(err => {\n              this.setState({\n                loading: false,\n                error: err\n              });\n            });\n          }\n        });\n      } else {\n        console.log(\"Stripe is not loaded\");\n      }\n    };\n  }\n\n  render() {\n    const {\n      error,\n      loading,\n      success\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, error && /*#__PURE__*/React.createElement(Message, {\n      negative: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"Your payment was unsuccessful\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, JSON.stringify(error))), success && /*#__PURE__*/React.createElement(Message, {\n      positive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"Your payment was successful\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, \"Go to your \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 40\n      }\n    }, \"profile\"), \" to see the order delivery status.\")), /*#__PURE__*/React.createElement(OrderPreview, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, \"Would you like to complete your puchase?\"), /*#__PURE__*/React.createElement(CardElement, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.submit,\n      primary: true,\n      style: {\n        marginTop: \"10px\"\n      },\n      loading: loading,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, \"Submit\"));\n  }\n\n}\n\nconst InjectedForm = injectStripe(CheckoutForm);\n\nconst WrappedForm = () => /*#__PURE__*/React.createElement(Container, {\n  text: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(StripeProvider, {\n  apiKey: \"pk_test_ffJsfC2lo7brg48q4ijmDjK000UJ9rB62K\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 17\n  }\n}, \"Complete your order\"), /*#__PURE__*/React.createElement(Elements, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(InjectedForm, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 21\n  }\n})))));\n\nexport default WrappedForm;","map":{"version":3,"sources":["/home/gnop/Videos/django-react-boilerplate/src/containers/Checkout.js"],"names":["React","Component","CardElement","injectStripe","Elements","StripeProvider","Button","Container","Message","Item","Divider","Header","authAxios","checkoutURL","OrderPreview","render","CheckoutForm","state","loading","error","success","submit","ev","preventDefault","setState","props","stripe","createToken","then","result","message","post","stripeToken","token","id","res","catch","err","console","log","JSON","stringify","marginTop","InjectedForm","WrappedForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    CardElement,\n    injectStripe,\n    Elements,\n    StripeProvider\n} from 'react-stripe-elements';\nimport { Button, Container, Message, Item, Divider, Header } from 'semantic-ui-react';\nimport { authAxios } from '../utils';\nimport { checkoutURL } from '../constants';\n\n\n\nclass OrderPreview extends Component {\n    render() {\n        return (\n            <div>\n                <Item.Group relaxed>\n                    <Item>\n                        <Item.Image\n                            size=\"tiny\"\n                            src=\"\"\n                        />\n\n                        <Item.Content verticalAlign=\"middle\">\n                            <Item.Header as=\"a\"></Item.Header>\n                        </Item.Content>\n\n                    </Item>\n                </Item.Group>\n                <Item.Group>\n                    <Item.Content>\n                        <Item.Header>Order Total: </Item.Header>\n                    </Item.Content>\n                </Item.Group>\n            </div>\n        );\n    }\n}\n\n\nclass CheckoutForm extends Component {\n\n    state = {\n        loading: false,\n        error: null,\n        success: false\n    }\n\n    submit = (ev) => {\n        ev.preventDefault();\n        this.setState({ loading: true });\n        if (this.props.stripe) {\n            this.props.stripe.createToken()\n                .then(result => {\n                    if (result.error) {\n                        this.setState({ error: result.error.message, loading: false });\n                    } else {\n                        authAxios\n                            .post(checkoutURL, { stripeToken: result.token.id })\n                            .then(res => {\n                                this.setState({ loading: true, success: true });\n                            })\n                            .catch(err => {\n                                this.setState({ loading: false, error: err });\n                            });\n                    }\n                });\n        } else {\n            console.log(\"Stripe is not loaded\");\n        }\n\n    };\n\n    render() {\n        const { error, loading, success } = this.state;\n        return (\n            <div>\n                {error && (\n                    <Message negative>\n                        <Message.Header>Your payment was unsuccessful</Message.Header>\n                        <p>{JSON.stringify(error)}</p>\n                    </Message>\n                )}\n                {success && (\n                    <Message positive>\n                        <Message.Header>Your payment was successful</Message.Header>\n                        <p>\n                            Go to your <b>profile</b> to see the order delivery status.\n                        </p>\n                    </Message>\n                )}\n\n\n                <OrderPreview />\n\n\n                <Divider />\n\n                <Header>Would you like to complete your puchase?</Header>\n                <CardElement />\n                <Button\n                    onClick={this.submit}\n                    primary\n                    style={{ marginTop: \"10px\" }}\n                    loading={loading}\n                    disabled={loading}\n                >\n                    Submit\n                </Button>\n            </div>\n        );\n    }\n}\n\n\nconst InjectedForm = injectStripe(CheckoutForm);\n\n\nconst WrappedForm = () => (\n    <Container text>\n        <StripeProvider apiKey=\"pk_test_ffJsfC2lo7brg48q4ijmDjK000UJ9rB62K\">\n            <div>\n                <h1>Complete your order</h1>\n                <Elements>\n                    <InjectedForm />\n                </Elements>\n\n            </div>\n\n        </StripeProvider>\n    </Container>\n\n);\n\nexport default WrappedForm;"]},"metadata":{},"sourceType":"module"}